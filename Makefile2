CC=clang++
FLAGS=-Iinc

IDIR=./inc
BOOST_LIBS_FLAGS=-lboost_filesystem -lboost_system
SDL_LIBS_FLAGS=-lSDL `pkg-config --cflags --libs sdl`
BOOST_LIB_FS=/usr/local/lib
CXXFLAGS =  -std=c++11 -g -pedantic -Wall 
EXEC = TetrisLinux.exe
INC=inc
SRC=src
DebugDir=Debug

CPP_FILES := $(wildcard src/*.cpp)
OBJ_FILES := $(addprefix obj/,$(notdir $(CPP_FILES:.cpp=.o)))

All: main.o Utils.o Game.o Brick.o MainGrid.o Orientation.o Picture.o Position.o Slab.o TableCoordinates.o Point.o SDLWrapper.o MTime.o BrickFactory.o
	$(CC) -std=c++11 main.o Utils.o Game.o Brick.o MainGrid.o Orientation.o Picture.o Position.o Slab.o TableCoordinates.o Point.o SDLWrapper.o MTime.o BrickFactory.o -o $(DebugDir)/$(EXEC) $(BOOST_LIBS_FLAGS) $(SDL_LIBS_FLAGS) 

main.o: main.cpp
	$(CC) $(CXXFLAGS) -c main.cpp

Brick.o: $(INC)/Brick.h $(SRC)/Brick.cpp
	$(CC) $(CXXFLAGS) -I$(INC) -c $(SRC)/Brick.cpp 

Game.o: $(INC)/Game.h $(SRC)/Game.cpp
	$(CC) $(CXXFLAGS) -I$(INC) -c $(SRC)/Game.cpp 

Utils.o: $(INC)/Utils.h $(SRC)/Utils.cpp
	$(CC) $(CXXFLAGS) -I$(INC) -c $(SRC)/Utils.cpp 

MainGrid.o: $(INC)/MainGrid.h $(SRC)/MainGrid.cpp
	$(CC) $(CXXFLAGS) -I$(INC) -c $(SRC)/MainGrid.cpp 

Orientation.o: $(INC)/Orientation.h $(SRC)/Orientation.cpp
	$(CC) $(CXXFLAGS) -I$(INC) -c $(SRC)/Orientation.cpp 

Picture.o: $(INC)/Picture.h $(SRC)/Picture.cpp
	$(CC) $(CXXFLAGS) -I$(INC) -c $(SRC)/Picture.cpp 

Position.o: $(INC)/Position.h $(SRC)/Position.cpp
	$(CC) $(CXXFLAGS) -I$(INC) -c $(SRC)/Position.cpp 

Slab.o: $(INC)/Slab.h $(SRC)/Slab.cpp
	$(CC) $(CXXFLAGS) -I$(INC) -c $(SRC)/Slab.cpp 

TableCoordinates.o: $(INC)/TableCoordinates.h $(SRC)/TableCoordinates.cpp
	$(CC) $(CXXFLAGS) -I$(INC) -c $(SRC)/TableCoordinates.cpp 

Point.o: $(INC)/Point.h $(SRC)/Point.cpp
	$(CC) $(CXXFLAGS) -I$(INC) -c $(SRC)/Point.cpp 

SDLWrapper.o: $(INC)/SDLWrapper.h $(SRC)/SDLWrapper.cpp
	$(CC) $(CXXFLAGS) -I$(INC) -c $(SRC)/SDLWrapper.cpp 

MTime.o: $(INC)/MTime.h $(SRC)/MTime.cpp
	$(CC) $(CXXFLAGS) -I$(INC) -c $(SRC)/MTime.cpp 

BrickFactory.o: $(INC)/BrickFactory.h $(SRC)/BrickFactory.cpp
	$(CC) $(CXXFLAGS) -I$(INC) -c $(SRC)/BrickFactory.cpp 

run:
	@clear
	@make -f Makefile2 All	
	@./$(DebugDir)/$(EXEC)

build: 
	@clear
	@make -f Makefile2 All	
